<div class="header bg-gradient-danger pb-8 pt-5 pt-md-8">
  <div class="container-fluid">
    <div class="header-body">
      <!-- Puedes agregar estadísticas o cards aquí si lo deseas -->
    </div>
  </div>
</div>
<div class="container-fluid mt--7">
  <div class="row">
    <div class="col">
      <div class="card shadow">
        <div class="card-header border-0">
          <div class="row align-items-center">
            <div class="col">
              <!-- Título dinámico "Administrator - Users" con el nombre del rol -->
              <h3 class="mb-0">Administrator - Usuarios del Rol: {{ roleName }}</h3>
            </div>
            <div class="col text-right">
              <button class="btn btn-sm btn-secondary" (click)="goBack()"><i class="fas fa-arrow-left"></i> Volver a Roles</button>
            </div>
          </div>
        </div>
        <div class="table-responsive">
          <div *ngIf="isLoading" class="text-center py-5">
            <i class="fas fa-spinner fa-spin fa-3x"></i>
            <p class="mt-3">Cargando usuarios...</p>
          </div>
          <table class="table align-items-center table-flush" *ngIf="!isLoading && usersByRole.length > 0">
            <thead class="thead-light">
              <tr>
                <th scope="col">ID</th>
                <th scope="col">Nombre</th>
                <th scope="col">Email</th>
                <th scope="col">Opciones</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let userRole of usersByRole">
                <!-- Se asume que userRole.user existe y tiene un ID, nombre y email -->
                <td>{{ userRole.user?.id }}</td>
                <td>{{ userRole.user?.name }}</td>
                <td>{{ userRole.user?.email }}</td>
                <td>
                  <!-- Botón "Remove Role" como en el mockup -->
                  <button class="btn btn-sm btn-danger" (click)="removeUserFromRole(userRole)"><i class="fas fa-user-minus"></i> Remover Rol</button>
                </td>
              </tr>
            </tbody>
          </table>
          <div *ngIf="!isLoading && usersByRole.length === 0" class="text-center py-4">
            <p>No hay usuarios asignados a este rol.</p>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
